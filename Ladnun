<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§≤‡§æ‡§°‡§®‡•Ç‡§Ç ‡§µ‡§∞‡•ç‡§ï‡§∞ ‡§∏‡•á‡§µ‡§æ‡§è‡§Å - ‡§¨‡•Å‡§ï ‡§ï‡§∞‡•á‡§Ç</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hind:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { 
            background: radial-gradient(circle at top right, #1e293b, #0f172a);
            font-family: 'Hind', sans-serif;
            color: #f8fafc;
        }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
        }
        .worker-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .worker-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.07);
            border-color: #3b82f6;
        }
        .cat-btn {
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            white-space: nowrap;
        }
        .cat-btn.active {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
        }
        .btn-3d {
            transition: all 0.2s;
            box-shadow: 0 6px 0 #166534;
        }
        .btn-3d-blue {
            transition: all 0.2s;
            box-shadow: 0 6px 0 #1e40af;
        }
        .btn-3d:active, .btn-3d-blue:active {
            transform: translateY(4px);
            box-shadow: none;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="p-4">

    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <header class="py-10 text-center">
            <h1 class="text-4xl md:text-6xl font-black mb-4">
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-white to-green-400">
                    ‡§≤‡§æ‡§°‡§®‡•Ç‡§Ç ‡§µ‡§∞‡•ç‡§ï‡§∞ ‡§∏‡•á‡§µ‡§æ‡§è‡§Å
                </span>
            </h1>
            <p class="text-gray-400 text-lg">‡§≤‡§æ‡§°‡§®‡•Ç‡§Ç ‡§ï‡•á ‡§≠‡§∞‡•ã‡§∏‡•á‡§Æ‡§Ç‡§¶ ‡§Æ‡§ø‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä ‡§Ö‡§¨ ‡§Ü‡§™‡§ï‡•á ‡§è‡§ï ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§™‡§∞ üõ†Ô∏è</p>
        </header>

        <!-- Categories Section -->
        <div id="categoryMenu" class="flex overflow-x-auto gap-4 py-6 mb-10 no-scrollbar scroll-smooth px-2">
            <button onclick="location.reload()" class="cat-btn active flex items-center gap-2 bg-slate-800 px-6 py-3 rounded-2xl font-bold border border-slate-700">
                üè† ‡§∏‡§≠‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Å
            </button>
            <!-- Categories dynamically load here -->
        </div>

        <!-- Worker List -->
        <div id="workerGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div class="col-span-full text-center py-20">
                <div class="inline-block animate-spin text-4xl text-blue-500 mb-4"><i class="fas fa-spinner"></i></div>
                <p class="text-xl">‡§≤‡§æ‡§°‡§®‡•Ç‡§Ç ‡§ï‡•á ‡§µ‡§∞‡•ç‡§ï‡§∞‡•ç‡§∏ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...</p>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAhg7hKJ123JRAfio7fymK543XpuNonMHo",
            authDomain: "showpdf-ffa34.firebaseapp.com",
            databaseURL: "https://showpdf-ffa34-default-rtdb.firebaseio.com",
            projectId: "showpdf-ffa34",
            storageBucket: "showpdf-ffa34.firebasestorage.app",
            messagingSenderId: "943291456891",
            appId: "1:943291456891:web:b96e20acd76bd3463b71de"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        let allWorkers = [];

        onValue(ref(db, 'categories'), (snap) => {
            const menu = document.getElementById('categoryMenu');
            const data = snap.val();
            if(data) {
                menu.innerHTML = `<button onclick="location.reload()" class="cat-btn active flex items-center gap-2 bg-slate-800 px-6 py-3 rounded-2xl font-bold border border-slate-700">üè† ‡§∏‡§≠‡•Ä</button>`;
                Object.values(data).forEach(c => {
                    menu.innerHTML += `<button onclick="filterWorkers('${c.name}', this)" class="cat-btn flex items-center gap-2 bg-slate-800/50 px-6 py-3 rounded-2xl font-bold border border-slate-700 hover:bg-slate-700">
                        ${c.emoji || '‚öôÔ∏è'} ${c.name}
                    </button>`;
                });
            }
        });

        onValue(ref(db, 'workers'), (snap) => {
            allWorkers = snap.val() ? Object.values(snap.val()) : [];
            display(allWorkers);
        });

        function display(list) {
            const grid = document.getElementById('workerGrid');
            grid.innerHTML = list.length ? '' : '<div class="col-span-full text-center text-gray-500 py-10">‡§≤‡§æ‡§°‡§®‡•Ç‡§Ç ‡§Æ‡•á‡§Ç ‡§Ö‡§≠‡•Ä ‡§ï‡•ã‡§à ‡§µ‡§∞‡•ç‡§ï‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ</div>';
            list.forEach(w => {
                grid.innerHTML += `
                    <div class="glass p-8 worker-card flex flex-col justify-between">
                        <div>
                            <div class="flex justify-between items-start mb-4">
                                <span class="bg-blue-500/20 text-blue-300 text-[10px] font-black px-3 py-1 rounded-full uppercase border border-blue-500/30">
                                    ${w.category}
                                </span>
                                <div class="text-yellow-400 text-xs"><i class="fas fa-star text-orange-400"></i> ‡§≤‡§æ‡§°‡§®‡•Ç‡§Ç ‡§∏‡•ç‡§™‡•á‡§∂‡§≤</div>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-2">${w.name}</h3>
                            <p class="text-gray-400 text-sm leading-relaxed mb-6">${w.detail}</p>
                        </div>
                        <div class="space-y-4">
                            <a href="https://wa.me/${w.phone}?text=‡§®‡§Æ‡§∏‡•ç‡§§‡•á ${w.name}, ‡§Æ‡•à‡§Ç ‡§≤‡§æ‡§°‡§®‡•Ç‡§Ç ‡§∏‡•á ‡§π‡•Ç‡§Å, ‡§Æ‡•Å‡§ù‡•á ‡§Ü‡§™‡§ï‡•Ä ${w.category} ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§ö‡§æ‡§π‡§ø‡§è‡•§" target="_blank" 
                               class="w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-3 btn-3d">
                                <i class="fab fa-whatsapp text-xl"></i> ‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§Æ‡•à‡§∏‡•á‡§ú
                            </a>
                            <a href="tel:${w.phone}" 
                               class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-3 btn-3d-blue">
                                <i class="fas fa-phone-alt"></i> ‡§Ö‡§≠‡•Ä ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç
                            </a>
                        </div>
                    </div>
                `;
            });
        }

        window.filterWorkers = (cat, btn) => {
            document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            display(allWorkers.filter(w => w.category === cat));
        };
    </script>
</body>
</html>
